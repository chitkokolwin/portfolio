<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Distance to Kasem Bundit University</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f0f4f8;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }
    .container {
      background-color: white;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      max-width: 400px;
      width: 100%;
      text-align: center;
    }
    h2 {
      margin-bottom: 20px;
    }
    .primary-button {
      width: 100%;
      padding: 10px;
      background-color: #0077cc;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
      margin-bottom: 10px;
    }
    .primary-button:hover {
      background-color: #005fa3;
    }
    .back-button {
      width: 100%;
      padding: 10px;
      background-color: #6c757d;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
    }
    .back-button:hover {
      background-color: #5a6268;
    }
    .result {
      margin-top: 20px;
      font-weight: bold;
      font-size: 18px;
    }
  </style>
</head>
<body>

  <div class="container">
    <h2>Distance to Kasem Bundit University</h2>
    <button onclick="getLocation()" class="primary-button">Find My Distance</button>
    <button onclick="goBack()" class="back-button">‚Üê Back</button>
    <div class="result" id="result">Waiting for location...</div>
  </div>

  <script>
    const universityLat = 13.7934;
    const universityLon = 100.7176;

    function getLocation() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showDistance, showError);
        document.getElementById("result").textContent = "Getting your location...";
      } else {
        document.getElementById("result").textContent = "Geolocation is not supported by this browser.";
      }
    }

    function showDistance(position) {
      const userLat = position.coords.latitude;
      const userLon = position.coords.longitude;
      const distance = haversine(userLat, userLon, universityLat, universityLon);
      document.getElementById("result").textContent = `You are approximately ${distance.toFixed(2)} km from Kasem Bundit University.`;
    }

    function showError(error) {
      document.getElementById("result").textContent = "Unable to retrieve your location.";
    }

    function haversine(lat1, lon1, lat2, lon2) {
      const R = 6371;
      const dLat = toRad(lat2 - lat1);
      const dLon = toRad(lon2 - lon1);
      const a = Math.sin(dLat/2) * Math.sin(dLat/2) +
                Math.cos(toRad(lat1)) * Math.cos(toRad(lat2)) *
                Math.sin(dLon/2) * Math.sin(dLon/2);
      const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
      return R * c;
    }

    function toRad(deg) {
      return deg * (Math.PI / 180);
    }

    function goBack() {
      window.history.back();
    }
  </script>
</body>
</html>
